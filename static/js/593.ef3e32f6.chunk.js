"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[593],{472:function(n,e,t){t.d(e,{Z:function(){return b}});var r,o,i,a,s,u=t(439),c=t(689),l=t(791),d=t(168),p=t(87),f=t(444),h=f.ZP.ul(r||(r=(0,d.Z)(["\n  display: grid;\n  grid-template-columns: repeat(4, minmax(0, 1fr));\n  grid-gap: 20px;\n  padding-top: 20px;\n"]))),m=f.ZP.li(o||(o=(0,d.Z)(["\n  text-align: center;\n"]))),x=(0,f.ZP)(p.rU)(i||(i=(0,d.Z)(["\n  color: black;\n  font-size: 16px;\n  font-weight: 500;\n\n  &:hover,\n  &:focus {\n    color: #2b96c8;\n  }\n"]))),g=f.ZP.div(a||(a=(0,d.Z)(["\n  position: relative;\n"]))),Z=(f.ZP.div(s||(s=(0,d.Z)(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n\n  width: 50px;\n"]))),t(184)),b=function(n){var e=n.movies,t=n.setIsLoading,r=(0,c.TH)(),o=(0,l.useState)(0),i=(0,u.Z)(o,2),a=i[0],s=i[1],d=function(){s(a+1)};return(0,l.useEffect)((function(){a===e.length&&t(!1)}),[a,e.length,t]),(0,Z.jsx)(h,{children:e.map((function(n){var e=n.title,t=n.id,o=n.poster;return(0,Z.jsx)(m,{children:(0,Z.jsxs)(x,{to:"/movies/".concat(t),state:{from:r},children:[(0,Z.jsx)(g,{children:(0,Z.jsx)("img",{src:o,alt:e,onLoad:d,onError:d})}),(0,Z.jsx)("h2",{children:e})]})},t)}))})}},593:function(n,e,t){t.r(e),t.d(e,{default:function(){return v}});var r,o,i,a=t(433),s=t(439),u=t(791),c=t(87),l=t(168),d=t(444),p=d.ZP.form(r||(r=(0,l.Z)(["\n  width: 300px;\n  padding-top: 20px;\n  margin: 0 auto;\n  display: flex;\n  gap: 10px;\n"]))),f=d.ZP.input(o||(o=(0,l.Z)(["\n  width: 100%;\n  padding: 8px 16px;\n  border: none;\n  border-radius: 5px;\n  outline: none;\n  background-color: #b4b7d3;\n"]))),h=d.ZP.button(i||(i=(0,l.Z)(["\n  padding: 4px 8px;\n  border: none;\n  border-radius: 5px;\n  outline: none;\n  background-color: #b4b7d3;\n  cursor: pointer;\n  &:hover,\n  &:focus {\n    background-color: teal;\n    color: white;\n  }\n"]))),m=t(184),x=function(n){var e=n.setSearchParams,t=(0,u.useState)(""),r=(0,s.Z)(t,2),o=r[0],i=r[1];return(0,m.jsxs)(p,{onSubmit:function(n){n.preventDefault(),o.trim()&&(e({query:o.trim().toLowerCase()}),i(""))},children:[(0,m.jsx)(f,{type:"text",name:"query",value:o,placeholder:"Search movies",autoComplete:"off",autoFocus:!0,onChange:function(n){var e=n.currentTarget.value;i(e)}}),(0,m.jsx)(h,{type:"submit",children:"Search"})]})},g=t(472),Z=t(385),b=t(306),v=function(){var n=(0,b.Z)(),e=n.movies,t=n.fetchMoviesList,r=n.isLoading,o=n.setIsLoading,i=(0,u.useRef)(t).current,l=(0,c.lr)(),d=(0,s.Z)(l,2),p=d[0],f=d[1],h=(0,u.useMemo)((function(){return Object.fromEntries((0,a.Z)(p))}),[p]).query;return(0,u.useEffect)((function(){if(h){var n=new AbortController;return i({controller:n,fetchParams:"search/movie",query:h}),function(){n.abort()}}}),[i,h]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(x,{setSearchParams:f}),r,!!e.length&&(0,m.jsx)(g.Z,{movies:e,setIsLoading:o}),(0,m.jsx)(Z.Z,{})]})}}}]);
//# sourceMappingURL=593.ef3e32f6.chunk.js.map